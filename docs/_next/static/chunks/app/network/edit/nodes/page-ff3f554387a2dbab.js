(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[865],{2199:function(e,o,t){Promise.resolve().then(t.bind(t,7698))},7698:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return g}});var n=t(7437),r=t(2265),a=t(5915),i=t(3004),s=t(9788),c=t(6104),l=t(639),d=t(7160),u=t(8058),h=t(990),f=t(6324),p=t(1155),x=t(2037),k=t(6735);function g(){let[e,o]=(0,r.useState)({nodes:[],links:[]}),[t,a]=(0,r.useState)(!0),i=(0,r.useRef)(null);return((0,r.useEffect)(()=>{fetch("/books.json").then(e=>e.json()).then(e=>{o(e),a(!1)}).catch(e=>{console.error("Failed to fetch data",e),a(!1)})},[]),t)?(0,n.jsx)("div",{children:"Loading..."}):(0,n.jsxs)("div",{style:{padding:"20px"},children:[(0,n.jsx)("h1",{children:"Book Network Editor"}),(0,n.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,n.jsx)("button",{onClick:()=>window.location.href="/network/edit",style:{padding:"10px 20px",fontSize:"16px",cursor:"pointer",marginRight:"10px",backgroundColor:"#666",color:"white",border:"none"},children:"Back to Dashboard"}),(0,n.jsx)("button",{onClick:()=>{if(!i.current)return;let o=i.current.hotInstance,t=o.getSourceData(),n={nodes:t,links:e.links};fetch("/api/books/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(e=>{e.ok?alert("Saved successfully!"):e.json().then(o=>{alert("Failed to save: ".concat(o.error||e.statusText))}).catch(()=>{alert("Failed to save: Unknown error")})}).catch(e=>{console.error("Error saving:",e),alert("Error saving data: ".concat(e.message))})},style:{padding:"10px 20px",fontSize:"16px",cursor:"pointer",marginRight:"10px"},children:"Save Changes"}),(0,n.jsx)("button",{onClick:()=>{if(!i.current)return;let e=i.current.hotInstance;e.alter("insert_row_below",e.countRows(),1)},style:{padding:"10px 20px",fontSize:"16px",cursor:"pointer",backgroundColor:"#4CAF50",color:"white",border:"none"},children:"Add Book"})]}),(0,n.jsx)(k.sZ,{ref:i,data:e.nodes,colHeaders:["Title (ID)","Author (Group)","Year"],columns:[{data:"id"},{data:"group"},{data:"year",type:"numeric"}],colWidths:[300,200,100],dropdownMenu:!0,contextMenu:!0,filters:!0,rowHeaders:!0,manualRowMove:!0,autoWrapRow:!0,autoWrapCol:!0,licenseKey:"non-commercial-and-evaluation",height:"auto"})]})}t(6800),(0,f.xN)(p.i),(0,f.xN)(x.o),(0,a.fo)(i.lV),(0,a.fo)(s.Gf),(0,a.fo)(c.xV),(0,a.fo)(l._x),(0,a.fo)(d.h_),(0,a.fo)(u.x$),(0,a.fo)(h.E9)}},function(e){e.O(0,[121,66,990,281,971,472,744],function(){return e(e.s=2199)}),_N_E=e.O()}]);